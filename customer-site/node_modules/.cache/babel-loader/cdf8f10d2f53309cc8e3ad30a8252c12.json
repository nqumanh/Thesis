{"ast":null,"code":"import _slicedToArray from \"E:\\\\Subjects\\\\Thesis\\\\7-Demo\\\\Thesis\\\\customer-site\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"E:\\\\Subjects\\\\Thesis\\\\7-Demo\\\\Thesis\\\\customer-site\\\\src\\\\components\\\\UserPage\\\\Content\\\\Content.js\";\nimport React, { useState, useEffect } from 'react';\nimport './Content.css';\nimport TableData from './TableData';\nimport Pagination from './Pagination';\nexport default function Content(props) {\n  var initialFilter = {\n    name: '',\n    codeModule: '',\n    major: '',\n    year: '',\n    monthStart: 'All'\n  };\n  var initialPagination = {\n    rowsPerPage: 5,\n    currentPage: 1\n  };\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      presentations = _useState2[0],\n      setPresentations = _useState2[1];\n\n  var _useState3 = useState(initialFilter),\n      _useState4 = _slicedToArray(_useState3, 2),\n      filter = _useState4[0],\n      setFilter = _useState4[1];\n\n  var _useState5 = useState(initialPagination),\n      _useState6 = _slicedToArray(_useState5, 2),\n      pagination = _useState6[0],\n      setPagination = _useState6[1];\n\n  var path = Object.keys(props).length ? props.userRole + '-register/' + props.id : \"\";\n  useEffect(function () {\n    fetch(\"http://127.0.0.1:5000/\".concat(path)).then(function (res) {\n      return res.json().then(function (data) {\n        setPresentations(data);\n      });\n    });\n  }, [props.userRole]);\n\n  var onFilter = function onFilter(filterName, filterCodeModule, filterMajor, filterYear, filterMonthStart) {\n    setFilter({\n      name: filterName,\n      codeModule: filterCodeModule,\n      major: filterMajor,\n      year: filterYear,\n      monthStart: filterMonthStart\n    });\n  };\n\n  var paginate = function paginate(pageNumber, rowsPerPage) {\n    setPagination({\n      rowsPerPage: rowsPerPage === 'All' ? presentations.length : parseInt(rowsPerPage),\n      currentPage: pageNumber\n    });\n  };\n\n  var courses = presentations;\n\n  if (filter) {\n    if (filter.name) {\n      courses = courses.filter(function (presentation) {\n        return presentation.name.toLowerCase().indexOf(filter.name.toLowerCase()) !== -1;\n      });\n    }\n\n    if (filter.codeModule) {\n      courses = courses.filter(function (presentation) {\n        return presentation.codeModule.toLowerCase().indexOf(filter.codeModule.toLowerCase()) !== -1;\n      });\n    }\n\n    if (filter.major) {\n      courses = courses.filter(function (presentation) {\n        return presentation.major.toLowerCase().indexOf(filter.major.toLowerCase()) !== -1;\n      });\n    }\n\n    if (filter.year) {\n      courses = courses.filter(function (presentation) {\n        return presentation.year.toString().toLowerCase().indexOf(filter.year.toLowerCase()) !== -1;\n      });\n    }\n\n    if (filter.monthStart !== 'All') {\n      courses = courses.filter(function (presentation) {\n        return presentation.monthStart.toLowerCase().indexOf(filter.monthStart.toLowerCase()) !== -1;\n      });\n    }\n  } //Pagination\n\n\n  var indexOfLastCourse = pagination.currentPage * pagination.rowsPerPage;\n  var indexOfFirstCourse = indexOfLastCourse - pagination.rowsPerPage;\n  var currentCourses = courses.slice(indexOfFirstCourse, indexOfLastCourse);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }\n  }, \"Student Dashboard\"), /*#__PURE__*/React.createElement(\"nav\", {\n    \"aria-label\": \"breadcrumb\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"ol\", {\n    className: \"breadcrumb\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    className: \"breadcrumb-item active\",\n    \"aria-current\": \"page\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 11\n    }\n  }, \"All Courses\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"card-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 11\n    }\n  }, \"Course List\"), /*#__PURE__*/React.createElement(TableData, {\n    presentations: currentCourses,\n    onFilter: onFilter,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Pagination, {\n    rowsPerPage: pagination.rowsPerPage,\n    totalCourses: presentations.length,\n    paginate: paginate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 11\n    }\n  }))));\n}","map":{"version":3,"names":["React","useState","useEffect","TableData","Pagination","Content","props","initialFilter","name","codeModule","major","year","monthStart","initialPagination","rowsPerPage","currentPage","presentations","setPresentations","filter","setFilter","pagination","setPagination","path","Object","keys","length","userRole","id","fetch","then","res","json","data","onFilter","filterName","filterCodeModule","filterMajor","filterYear","filterMonthStart","paginate","pageNumber","parseInt","courses","presentation","toLowerCase","indexOf","toString","indexOfLastCourse","indexOfFirstCourse","currentCourses","slice"],"sources":["E:/Subjects/Thesis/7-Demo/Thesis/customer-site/src/components/UserPage/Content/Content.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport './Content.css'\r\nimport TableData from './TableData'\r\nimport Pagination from './Pagination'\r\n\r\nexport default function Content (props) {\r\n  const initialFilter = {\r\n    name: '',\r\n    codeModule: '',\r\n    major: '',\r\n    year: '',\r\n    monthStart: 'All'\r\n  }\r\n  const initialPagination = {\r\n    rowsPerPage: 5,\r\n    currentPage: 1\r\n  }\r\n\r\n  const [presentations, setPresentations] = useState([])\r\n  const [filter, setFilter] = useState(initialFilter)\r\n  const [pagination, setPagination] = useState(initialPagination)\r\n\r\nconst path = Object.keys(props).length?props.userRole + '-register/' + props.id:\"\"\r\n\r\n  useEffect(() => {\r\n    fetch(\r\n      `http://127.0.0.1:5000/${path}`\r\n    ).then(res =>\r\n      res.json().then(data => {\r\n        setPresentations(data)\r\n      })\r\n    )\r\n  }, [props.userRole])\r\n\r\n  const onFilter = (\r\n    filterName,\r\n    filterCodeModule,\r\n    filterMajor,\r\n    filterYear,\r\n    filterMonthStart\r\n  ) => {\r\n    setFilter({\r\n      name: filterName,\r\n      codeModule: filterCodeModule,\r\n      major: filterMajor,\r\n      year: filterYear,\r\n      monthStart: filterMonthStart\r\n    })\r\n  }\r\n\r\n  const paginate = (pageNumber, rowsPerPage) => {\r\n    setPagination({\r\n      rowsPerPage:\r\n        rowsPerPage === 'All' ? presentations.length : parseInt(rowsPerPage),\r\n      currentPage: pageNumber\r\n    })\r\n  }\r\n\r\n  var courses = presentations\r\n  if (filter) {\r\n    if (filter.name) {\r\n      courses = courses.filter(presentation => {\r\n        return (\r\n          presentation.name.toLowerCase().indexOf(filter.name.toLowerCase()) !==\r\n          -1\r\n        )\r\n      })\r\n    }\r\n    if (filter.codeModule) {\r\n      courses = courses.filter(presentation => {\r\n        return (\r\n          presentation.codeModule\r\n            .toLowerCase()\r\n            .indexOf(filter.codeModule.toLowerCase()) !== -1\r\n        )\r\n      })\r\n    }\r\n    if (filter.major) {\r\n      courses = courses.filter(presentation => {\r\n        return (\r\n          presentation.major\r\n            .toLowerCase()\r\n            .indexOf(filter.major.toLowerCase()) !== -1\r\n        )\r\n      })\r\n    }\r\n    if (filter.year) {\r\n      courses = courses.filter(presentation => {\r\n        return (\r\n          presentation.year\r\n            .toString()\r\n            .toLowerCase()\r\n            .indexOf(filter.year.toLowerCase()) !== -1\r\n        )\r\n      })\r\n    }\r\n    if (filter.monthStart !== 'All') {\r\n      courses = courses.filter(presentation => {\r\n        return (\r\n          presentation.monthStart\r\n            .toLowerCase()\r\n            .indexOf(filter.monthStart.toLowerCase()) !== -1\r\n        )\r\n      })\r\n    }\r\n  }\r\n\r\n  //Pagination\r\n  const indexOfLastCourse = pagination.currentPage * pagination.rowsPerPage\r\n  const indexOfFirstCourse = indexOfLastCourse - pagination.rowsPerPage\r\n  let currentCourses = courses.slice(indexOfFirstCourse, indexOfLastCourse)\r\n\r\n  return (\r\n    <div className='Content'>\r\n      <h3>Student Dashboard</h3>\r\n      <nav aria-label='breadcrumb'>\r\n        <ol className='breadcrumb'>\r\n          {/* <li className='breadcrumb-item'>\r\n            <a href={`#/`}>Home</a>\r\n          </li> */}\r\n          <li className='breadcrumb-item active' aria-current='page'>\r\n            All Courses\r\n          </li>\r\n        </ol>\r\n      </nav>\r\n\r\n      <div className='card'>\r\n        <div className='card-body'>\r\n          <h5 className='card-title'>Course List</h5>\r\n          <TableData presentations={currentCourses} onFilter={onFilter} />\r\n          <Pagination\r\n            rowsPerPage={pagination.rowsPerPage}\r\n            totalCourses={presentations.length}\r\n            paginate={paginate}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}