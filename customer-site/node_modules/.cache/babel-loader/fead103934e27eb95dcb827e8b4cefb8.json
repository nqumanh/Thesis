{"ast":null,"code":"import _slicedToArray from \"E:\\\\Subjects\\\\Thesis\\\\7-Demo\\\\Thesis\\\\customer-site\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"E:\\\\Subjects\\\\Thesis\\\\7-Demo\\\\Thesis\\\\customer-site\\\\src\\\\components\\\\UserPage\\\\Content\\\\Content.js\";\nimport React, { useState, useEffect } from 'react';\nimport './Content.css';\nimport TableData from './TableData';\nimport Pagination from './Pagination';\nexport default function Content() {\n  var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n  console.log(props, typeof props);\n  var initialFilter = {\n    name: '',\n    codeModule: '',\n    major: '',\n    year: '',\n    monthStart: 'All'\n  };\n  var initialPagination = {\n    rowsPerPage: 5,\n    currentPage: 1\n  };\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      presentations = _useState2[0],\n      setPresentations = _useState2[1];\n\n  var _useState3 = useState(initialFilter),\n      _useState4 = _slicedToArray(_useState3, 2),\n      filter = _useState4[0],\n      setFilter = _useState4[1];\n\n  var _useState5 = useState(initialPagination),\n      _useState6 = _slicedToArray(_useState5, 2),\n      pagination = _useState6[0],\n      setPagination = _useState6[1];\n\n  useEffect(function () {\n    fetch(\"http://127.0.0.1:5000/\".concat(props ? props.userRole + '-register/' + props.id : \"\")).then(function (res) {\n      return res.json().then(function (data) {\n        setPresentations(data);\n      });\n    });\n  }, [props.userRole]);\n\n  var onFilter = function onFilter(filterName, filterCodeModule, filterMajor, filterYear, filterMonthStart) {\n    setFilter({\n      name: filterName,\n      codeModule: filterCodeModule,\n      major: filterMajor,\n      year: filterYear,\n      monthStart: filterMonthStart\n    });\n  };\n\n  var paginate = function paginate(pageNumber, rowsPerPage) {\n    setPagination({\n      rowsPerPage: rowsPerPage === 'All' ? presentations.length : parseInt(rowsPerPage),\n      currentPage: pageNumber\n    });\n  };\n\n  var courses = presentations;\n\n  if (filter) {\n    if (filter.name) {\n      courses = courses.filter(function (presentation) {\n        return presentation.name.toLowerCase().indexOf(filter.name.toLowerCase()) !== -1;\n      });\n    }\n\n    if (filter.codeModule) {\n      courses = courses.filter(function (presentation) {\n        return presentation.codeModule.toLowerCase().indexOf(filter.codeModule.toLowerCase()) !== -1;\n      });\n    }\n\n    if (filter.major) {\n      courses = courses.filter(function (presentation) {\n        return presentation.major.toLowerCase().indexOf(filter.major.toLowerCase()) !== -1;\n      });\n    }\n\n    if (filter.year) {\n      courses = courses.filter(function (presentation) {\n        return presentation.year.toString().toLowerCase().indexOf(filter.year.toLowerCase()) !== -1;\n      });\n    }\n\n    if (filter.monthStart !== 'All') {\n      courses = courses.filter(function (presentation) {\n        return presentation.monthStart.toLowerCase().indexOf(filter.monthStart.toLowerCase()) !== -1;\n      });\n    }\n  } //Pagination\n\n\n  var indexOfLastCourse = pagination.currentPage * pagination.rowsPerPage;\n  var indexOfFirstCourse = indexOfLastCourse - pagination.rowsPerPage;\n  var currentCourses = courses.slice(indexOfFirstCourse, indexOfLastCourse);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }\n  }, \"Student Dashboard\"), /*#__PURE__*/React.createElement(\"nav\", {\n    \"aria-label\": \"breadcrumb\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"ol\", {\n    className: \"breadcrumb\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    className: \"breadcrumb-item active\",\n    \"aria-current\": \"page\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 11\n    }\n  }, \"All Courses\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"card-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 11\n    }\n  }, \"Course List\"), /*#__PURE__*/React.createElement(TableData, {\n    presentations: currentCourses,\n    onFilter: onFilter,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Pagination, {\n    rowsPerPage: pagination.rowsPerPage,\n    totalCourses: presentations.length,\n    paginate: paginate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 11\n    }\n  }))));\n}","map":{"version":3,"names":["React","useState","useEffect","TableData","Pagination","Content","props","console","log","initialFilter","name","codeModule","major","year","monthStart","initialPagination","rowsPerPage","currentPage","presentations","setPresentations","filter","setFilter","pagination","setPagination","fetch","userRole","id","then","res","json","data","onFilter","filterName","filterCodeModule","filterMajor","filterYear","filterMonthStart","paginate","pageNumber","length","parseInt","courses","presentation","toLowerCase","indexOf","toString","indexOfLastCourse","indexOfFirstCourse","currentCourses","slice"],"sources":["E:/Subjects/Thesis/7-Demo/Thesis/customer-site/src/components/UserPage/Content/Content.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport './Content.css'\r\nimport TableData from './TableData'\r\nimport Pagination from './Pagination'\r\n\r\nexport default function Content (props=null) {\r\n  console.log(props, typeof props)\r\n  const initialFilter = {\r\n    name: '',\r\n    codeModule: '',\r\n    major: '',\r\n    year: '',\r\n    monthStart: 'All'\r\n  }\r\n  const initialPagination = {\r\n    rowsPerPage: 5,\r\n    currentPage: 1\r\n  }\r\n\r\n  const [presentations, setPresentations] = useState([])\r\n  const [filter, setFilter] = useState(initialFilter)\r\n  const [pagination, setPagination] = useState(initialPagination)\r\n\r\n  useEffect(() => {\r\n    fetch(\r\n      `http://127.0.0.1:5000/${props?props.userRole + '-register/' + props.id:\"\"}`\r\n    ).then(res =>\r\n      res.json().then(data => {\r\n        setPresentations(data)\r\n      })\r\n    )\r\n  }, [props.userRole])\r\n\r\n  const onFilter = (\r\n    filterName,\r\n    filterCodeModule,\r\n    filterMajor,\r\n    filterYear,\r\n    filterMonthStart\r\n  ) => {\r\n    setFilter({\r\n      name: filterName,\r\n      codeModule: filterCodeModule,\r\n      major: filterMajor,\r\n      year: filterYear,\r\n      monthStart: filterMonthStart\r\n    })\r\n  }\r\n\r\n  const paginate = (pageNumber, rowsPerPage) => {\r\n    setPagination({\r\n      rowsPerPage:\r\n        rowsPerPage === 'All' ? presentations.length : parseInt(rowsPerPage),\r\n      currentPage: pageNumber\r\n    })\r\n  }\r\n\r\n  var courses = presentations\r\n  if (filter) {\r\n    if (filter.name) {\r\n      courses = courses.filter(presentation => {\r\n        return (\r\n          presentation.name.toLowerCase().indexOf(filter.name.toLowerCase()) !==\r\n          -1\r\n        )\r\n      })\r\n    }\r\n    if (filter.codeModule) {\r\n      courses = courses.filter(presentation => {\r\n        return (\r\n          presentation.codeModule\r\n            .toLowerCase()\r\n            .indexOf(filter.codeModule.toLowerCase()) !== -1\r\n        )\r\n      })\r\n    }\r\n    if (filter.major) {\r\n      courses = courses.filter(presentation => {\r\n        return (\r\n          presentation.major\r\n            .toLowerCase()\r\n            .indexOf(filter.major.toLowerCase()) !== -1\r\n        )\r\n      })\r\n    }\r\n    if (filter.year) {\r\n      courses = courses.filter(presentation => {\r\n        return (\r\n          presentation.year\r\n            .toString()\r\n            .toLowerCase()\r\n            .indexOf(filter.year.toLowerCase()) !== -1\r\n        )\r\n      })\r\n    }\r\n    if (filter.monthStart !== 'All') {\r\n      courses = courses.filter(presentation => {\r\n        return (\r\n          presentation.monthStart\r\n            .toLowerCase()\r\n            .indexOf(filter.monthStart.toLowerCase()) !== -1\r\n        )\r\n      })\r\n    }\r\n  }\r\n\r\n  //Pagination\r\n  const indexOfLastCourse = pagination.currentPage * pagination.rowsPerPage\r\n  const indexOfFirstCourse = indexOfLastCourse - pagination.rowsPerPage\r\n  let currentCourses = courses.slice(indexOfFirstCourse, indexOfLastCourse)\r\n\r\n  return (\r\n    <div className='Content'>\r\n      <h3>Student Dashboard</h3>\r\n      <nav aria-label='breadcrumb'>\r\n        <ol className='breadcrumb'>\r\n          {/* <li className='breadcrumb-item'>\r\n            <a href={`#/`}>Home</a>\r\n          </li> */}\r\n          <li className='breadcrumb-item active' aria-current='page'>\r\n            All Courses\r\n          </li>\r\n        </ol>\r\n      </nav>\r\n\r\n      <div className='card'>\r\n        <div className='card-body'>\r\n          <h5 className='card-title'>Course List</h5>\r\n          <TableData presentations={currentCourses} onFilter={onFilter} />\r\n          <Pagination\r\n            rowsPerPage={pagination.rowsPerPage}\r\n            totalCourses={presentations.length}\r\n            paginate={paginate}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAO,eAAP;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAOC,UAAP,MAAuB,cAAvB;AAEA,eAAe,SAASC,OAAT,GAA8B;EAAA,IAAZC,KAAY,uEAAN,IAAM;EAC3CC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EAAmB,OAAOA,KAA1B;EACA,IAAMG,aAAa,GAAG;IACpBC,IAAI,EAAE,EADc;IAEpBC,UAAU,EAAE,EAFQ;IAGpBC,KAAK,EAAE,EAHa;IAIpBC,IAAI,EAAE,EAJc;IAKpBC,UAAU,EAAE;EALQ,CAAtB;EAOA,IAAMC,iBAAiB,GAAG;IACxBC,WAAW,EAAE,CADW;IAExBC,WAAW,EAAE;EAFW,CAA1B;;EAT2C,gBAcDhB,QAAQ,CAAC,EAAD,CAdP;EAAA;EAAA,IAcpCiB,aAdoC;EAAA,IAcrBC,gBAdqB;;EAAA,iBAeflB,QAAQ,CAACQ,aAAD,CAfO;EAAA;EAAA,IAepCW,MAfoC;EAAA,IAe5BC,SAf4B;;EAAA,iBAgBPpB,QAAQ,CAACc,iBAAD,CAhBD;EAAA;EAAA,IAgBpCO,UAhBoC;EAAA,IAgBxBC,aAhBwB;;EAkB3CrB,SAAS,CAAC,YAAM;IACdsB,KAAK,iCACsBlB,KAAK,GAACA,KAAK,CAACmB,QAAN,GAAiB,YAAjB,GAAgCnB,KAAK,CAACoB,EAAvC,GAA0C,EADrE,EAAL,CAEEC,IAFF,CAEO,UAAAC,GAAG;MAAA,OACRA,GAAG,CAACC,IAAJ,GAAWF,IAAX,CAAgB,UAAAG,IAAI,EAAI;QACtBX,gBAAgB,CAACW,IAAD,CAAhB;MACD,CAFD,CADQ;IAAA,CAFV;EAOD,CARQ,EAQN,CAACxB,KAAK,CAACmB,QAAP,CARM,CAAT;;EAUA,IAAMM,QAAQ,GAAG,SAAXA,QAAW,CACfC,UADe,EAEfC,gBAFe,EAGfC,WAHe,EAIfC,UAJe,EAKfC,gBALe,EAMZ;IACHf,SAAS,CAAC;MACRX,IAAI,EAAEsB,UADE;MAERrB,UAAU,EAAEsB,gBAFJ;MAGRrB,KAAK,EAAEsB,WAHC;MAIRrB,IAAI,EAAEsB,UAJE;MAKRrB,UAAU,EAAEsB;IALJ,CAAD,CAAT;EAOD,CAdD;;EAgBA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAACC,UAAD,EAAatB,WAAb,EAA6B;IAC5CO,aAAa,CAAC;MACZP,WAAW,EACTA,WAAW,KAAK,KAAhB,GAAwBE,aAAa,CAACqB,MAAtC,GAA+CC,QAAQ,CAACxB,WAAD,CAF7C;MAGZC,WAAW,EAAEqB;IAHD,CAAD,CAAb;EAKD,CAND;;EAQA,IAAIG,OAAO,GAAGvB,aAAd;;EACA,IAAIE,MAAJ,EAAY;IACV,IAAIA,MAAM,CAACV,IAAX,EAAiB;MACf+B,OAAO,GAAGA,OAAO,CAACrB,MAAR,CAAe,UAAAsB,YAAY,EAAI;QACvC,OACEA,YAAY,CAAChC,IAAb,CAAkBiC,WAAlB,GAAgCC,OAAhC,CAAwCxB,MAAM,CAACV,IAAP,CAAYiC,WAAZ,EAAxC,MACA,CAAC,CAFH;MAID,CALS,CAAV;IAMD;;IACD,IAAIvB,MAAM,CAACT,UAAX,EAAuB;MACrB8B,OAAO,GAAGA,OAAO,CAACrB,MAAR,CAAe,UAAAsB,YAAY,EAAI;QACvC,OACEA,YAAY,CAAC/B,UAAb,CACGgC,WADH,GAEGC,OAFH,CAEWxB,MAAM,CAACT,UAAP,CAAkBgC,WAAlB,EAFX,MAEgD,CAAC,CAHnD;MAKD,CANS,CAAV;IAOD;;IACD,IAAIvB,MAAM,CAACR,KAAX,EAAkB;MAChB6B,OAAO,GAAGA,OAAO,CAACrB,MAAR,CAAe,UAAAsB,YAAY,EAAI;QACvC,OACEA,YAAY,CAAC9B,KAAb,CACG+B,WADH,GAEGC,OAFH,CAEWxB,MAAM,CAACR,KAAP,CAAa+B,WAAb,EAFX,MAE2C,CAAC,CAH9C;MAKD,CANS,CAAV;IAOD;;IACD,IAAIvB,MAAM,CAACP,IAAX,EAAiB;MACf4B,OAAO,GAAGA,OAAO,CAACrB,MAAR,CAAe,UAAAsB,YAAY,EAAI;QACvC,OACEA,YAAY,CAAC7B,IAAb,CACGgC,QADH,GAEGF,WAFH,GAGGC,OAHH,CAGWxB,MAAM,CAACP,IAAP,CAAY8B,WAAZ,EAHX,MAG0C,CAAC,CAJ7C;MAMD,CAPS,CAAV;IAQD;;IACD,IAAIvB,MAAM,CAACN,UAAP,KAAsB,KAA1B,EAAiC;MAC/B2B,OAAO,GAAGA,OAAO,CAACrB,MAAR,CAAe,UAAAsB,YAAY,EAAI;QACvC,OACEA,YAAY,CAAC5B,UAAb,CACG6B,WADH,GAEGC,OAFH,CAEWxB,MAAM,CAACN,UAAP,CAAkB6B,WAAlB,EAFX,MAEgD,CAAC,CAHnD;MAKD,CANS,CAAV;IAOD;EACF,CAnG0C,CAqG3C;;;EACA,IAAMG,iBAAiB,GAAGxB,UAAU,CAACL,WAAX,GAAyBK,UAAU,CAACN,WAA9D;EACA,IAAM+B,kBAAkB,GAAGD,iBAAiB,GAAGxB,UAAU,CAACN,WAA1D;EACA,IAAIgC,cAAc,GAAGP,OAAO,CAACQ,KAAR,CAAcF,kBAAd,EAAkCD,iBAAlC,CAArB;EAEA,oBACE;IAAK,SAAS,EAAC,SAAf;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,uBADF,eAEE;IAAK,cAAW,YAAhB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE;IAAI,SAAS,EAAC,YAAd;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBAIE;IAAI,SAAS,EAAC,wBAAd;IAAuC,gBAAa,MAApD;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,iBAJF,CADF,CAFF,eAaE;IAAK,SAAS,EAAC,MAAf;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE;IAAK,SAAS,EAAC,WAAf;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE;IAAI,SAAS,EAAC,YAAd;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,iBADF,eAEE,oBAAC,SAAD;IAAW,aAAa,EAAEE,cAA1B;IAA0C,QAAQ,EAAEjB,QAApD;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAFF,eAGE,oBAAC,UAAD;IACE,WAAW,EAAET,UAAU,CAACN,WAD1B;IAEE,YAAY,EAAEE,aAAa,CAACqB,MAF9B;IAGE,QAAQ,EAAEF,QAHZ;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAHF,CADF,CAbF,CADF;AA2BD"},"metadata":{},"sourceType":"module"}